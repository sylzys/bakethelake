---
layout: post
title:  "ETL/ELT: The Pastry Shop "
author: sz
categories: [ worflow, tutorial ]
image: assets/images/etl_elt.jpg
description: "What are ELT & ETL ? Let's understand these 2 major concepts through our pastry shop."
featured: true
hidden: true
---

*Disclaimer : this website offers a metaphorical approach to big data, data science and data engineering concepts. They are purposely simplified and some of them may be eluded or approximative. *

ETL and ELT are two processes based on the same steps, although in different order. 

E: Extract 
T: Transform
L: Load

## Extract 

The first step of our process is to extract data. In the data world, we extract and gather data from different sources : APIs, csv files, databases dumps... for a later use. 

In our shop, data is made of our ingredients.
When we go shopping to buy them, we may go from store to store to get what we need. We are extracting ingredients from shops and gathering them for a later use. 

On the real world, the Extract phase is brutal. We extract all what our sources offer. No time to deal with cleaning data, for now. 

Same goes with our shopping. Let's say we foegot our ingredientd list, we'll then buy some stuff we may not need, or gather more ingredients that we would actually need. (who uses 1kg of sugar in a cake anyway ^^) 

Both of our worlds use tools for that. Data world uses network protocols and programs (this is hugely simplifying) to find data and retrieve them. 
Our shopping tools are our car, our cart, etc. 

Let's head to the next step. But should it be a T or a L? 

## Transform or Load? 

Back in the time, storage was expensive. We had to qualify (Transform) the data beforehand so we oy had to store "good" datas an do whatever we wanted with it. 

But with the increasing popularity of cloud solutions which started in the 2000's, storage became less and less a problem. We can even have unlimited storage, for a few cents per Go / transaction. 

Loading data before transforming it became the standard, in the majority of the scenarios. 

## Load

Now that we have retrieved our data (or our ingredients for that matter), we have to load them to their point of storage. 
For real datas, cloud providers offer a lot of solutions, most famous being Amazon S3, Google Buckets and Azure storage. 

Our data is still raw, just like our ingredients (remember at this time we just bought flour, sugar, chocolate, cream etc. 
We have everything in its own packaging, coming from different sources. 

We take them back home an store them "as is" in our shelves. 
![annie-spratt-nLHnx2- sK4-unsplash](//images.ctfassets.net/cqt5s82j5bth/3hfMpLTCGWbzA46b2QJRNC/c96192462617b5060520645d7faa529c/annie-spratt-nLHnx2-_sK4-unsplash.jpg)

## Transform

OK, time to cook. This phase depends on what we want to do with our data / ingredients. 
A lot of recipes use the same ingredients for different results. 

An egg, for exemple, can be cooked, boiled, whipped... Same initial ingredient, different transformation... 

Same goes with data. A JSON file coming from an API can be read and loaded into a dataframe to train Machine Learning models, or parsed to go into a database. We can transform it with aggregation, do some maths woth it to create new data... (just like cream can become butter, with the relevant transformation). 

All depends on what your final point is. You can do cupcakes, croissants, wedding cakes, donuts,... With the "same" ingredients. 
Well, with transformed text for instance, you can use your data to build a Business Intelligence platform for your users, train
a sentiment analysis model, develop a brand new API etc. 

You see it coming,hmm? Yep, in fact, we use another step nowadays. 

## ELTL

Quick recap. We Extracted our data (bought the ingredients), Loaded them (took the ingredients at home and stored them) a'd Transformed them (baked some cakes). 
Last step is actually another Load. This step, in our shop, is taking the cakes to expose them in our store, so our customers (the final users) can *consume* them. 

![andy-li-RndRFJ1v1kk-unsplash](//images.ctfassets.net/cqt5s82j5bth/t5joore1rVOzxehbSGJSt/c512a5ecfd550f12c16430f33a00509d/andy-li-RndRFJ1v1kk-unsplash.jpg)

The same term is used in the data world. Once the data is transformed, we can Load it into our BI system so that our final users (let's say the analysts) can *consume* the data the way they want. 